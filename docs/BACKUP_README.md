# üíæ –°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤

–°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏—Ö –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ (tar.gz)
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±—ç–∫–∞–ø–∞
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±—ç–∫–∞–ø–æ–≤ (–¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è, —Ä–∞–∑–º–µ—Ä –∏ —Ç.–¥.)

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≤ –±–æ—Ç–µ
2. –í—ã–±–µ—Ä–∏—Ç–µ "üíæ –ë—ç–∫–∞–ø—ã"
3. –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
   - **üíæ –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø** - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤–∞–º)
   - **üìã –°–ø–∏—Å–æ–∫ –±—ç–∫–∞–ø–æ–≤** - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –±—ç–∫–∞–ø—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - **üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –±—ç–∫–∞–ø** - –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –±—ç–∫–∞–ø–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª .tar.gz –±–æ—Ç—É)
   - **üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±—ç–∫–∞–ø–∞

### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—ç–∫–∞–ø–∞ —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω—É –≤ Telegram. –ï—Å–ª–∏ —Ñ–∞–π–ª –±–æ–ª—å—à–µ 50MB, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—É—Ç–µ–º –∫ —Ñ–∞–π–ª—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –ó–∞–≥—Ä—É–∑–∫–∞ –±—ç–∫–∞–ø–∞

1. –ù–∞–∂–º–∏—Ç–µ "üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –±—ç–∫–∞–ø"
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –±—ç–∫–∞–ø–∞ (.tar.gz) –±–æ—Ç—É
3. –§–∞–π–ª –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞

```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Docker
docker exec -it gigabridge_bot python scripts/backup.py

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é (–µ—Å–ª–∏ PostgreSQL –∫–ª–∏–µ–Ω—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
python scripts/backup.py
```

–ë—ç–∫–∞–ø –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backups/` —Å –∏–º–µ–Ω–µ–º `backup_YYYYMMDD_HHMMSS.tar.gz`

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞

‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï**: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö!

```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Docker
docker exec -it gigabridge_bot python scripts/restore.py backups/backup_20241203_120000.tar.gz --confirm

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
python scripts/restore.py backups/backup_20241203_120000.tar.gz --confirm
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—ç–∫–∞–ø–∞

–ö–∞–∂–¥—ã–π –±—ç–∫–∞–ø –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∞—Ä—Ö–∏–≤ `.tar.gz`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:

- `backup_YYYYMMDD_HHMMSS.sql` - SQL –¥–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `backup_YYYYMMDD_HHMMSS_metadata.json` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±—ç–∫–∞–ø–∞

### –ü—Ä–∏–º–µ—Ä –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:

```json
{
  "backup_name": "backup_20241203_120000",
  "created_at": "2024-12-03T12:00:00",
  "database_name": "gigabridge_db",
  "database_host": "db",
  "database_port": "5432",
  "file_size_mb": 2.45,
  "version": "1.0"
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ë—ç–∫–∞–ø—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backups/`
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ —Å–∫–∞—á–∏–≤–∞—Ç—å –±—ç–∫–∞–ø—ã –Ω–∞ —Å–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä
- –ë—ç–∫–∞–ø—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–∫–ª—é—á–∞—è –ø–∞—Ä–æ–ª–∏ –∏ –ø–ª–∞—Ç–µ–∂–∏
- –•—Ä–∞–Ω–∏—Ç–µ –±—ç–∫–∞–ø—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

## üì¶ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å**: –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—ç–∫–∞–ø—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–∂–µ–¥–Ω–µ–≤–Ω–æ)
2. **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –°–∫–∞—á–∏–≤–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –Ω–∞ —Å–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä –∏–ª–∏ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ –±—ç–∫–∞–ø—ã –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ —á–µ—Ä–µ–∑ cron –∏–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

## üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤

### –ß–µ—Ä–µ–∑ cron (Linux)

–î–æ–±–∞–≤—å—Ç–µ –≤ crontab:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00
0 3 * * * docker exec gigabridge_bot python /app/scripts/backup.py
```

### –ß–µ—Ä–µ–∑ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ Windows

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π Windows –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –±—ç–∫–∞–ø–∞.

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**: Telegram –±–æ—Ç—ã –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–∞–π–ª—ã –¥–æ 50MB. –ï—Å–ª–∏ –±—ç–∫–∞–ø –±–æ–ª—å—à–µ, —Å–∫–∞—á–∞–π—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é —Å —Å–µ—Ä–≤–µ—Ä–∞.

2. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º.

3. **PostgreSQL –∫–ª–∏–µ–Ω—Ç**: –î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π PostgreSQL –∫–ª–∏–µ–Ω—Ç (`pg_dump` –∏ `psql`).

4. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤.

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "pg_dump –Ω–µ –Ω–∞–π–¥–µ–Ω"

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –∫–ª–∏–µ–Ω—Ç:

```bash
# Ubuntu/Debian
apt-get update && apt-get install -y postgresql-client

# –í Dockerfile –¥–æ–±–∞–≤—å—Ç–µ:
RUN apt-get update && apt-get install -y postgresql-client
```

### –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—ç–∫–∞–ø–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ `.env`
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backups/`

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –§–∞–π–ª –±—ç–∫–∞–ø–∞ –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
- –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

